<%- if level == 1 -%>
<%- if breakout_top_keys -%>
<Tabs
  defaultValue="<%= fields.first.name %>"
  values={<%= fields.collect { |f| {label: f.name, value: f.name } }.to_json %>}>

<%- fields.each do |field| -%>
<TabItem value="<%= field.name %>">

```javascript
<%= JSON.pretty_generate(fields_hash(field.fields_list)) %>
```

</TabItem>
<%- end -%>

</Tabs>
<%- else -%>
<CodeHeader fileName="example.json" />

```javascript
<%= JSON.pretty_generate(fields_hash(fields)) %>
```
<%- end -%>

<%- end -%>

<Fields filters={<%= filters.to_json %>}>

<%- fields.each do |field| -%>
<%- full_path = [path, field.name].compact.join(".") -%>

<Field
  enumValues={<%= field.enum.to_json %>}
  examples={<%= field.examples.to_json %>}
  name={<%= field.name.to_json %>}
  path={<%= path.to_json %>}
  required={<%= field.required?.to_json %>}
  type={<%= field.type.to_json %>}
  >

<%= "#" * heading_depth %> <%= field.name %>

<%= field.description %>[[references:<%= field.name %>]]

<%- if field.fields? -%>
<%= fields(field.fields_list, filters: false, heading_depth: heading_depth + 1, level: level + 1, path: full_path) %>
<%- end -%>

</Field>

<%- end -%>

</Fields>